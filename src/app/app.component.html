<div class="display-4">add-anime app</div>
<p>Angular simple app to implement angular-form concept</p>

<form action="" [formGroup]="animeForm" (ngSubmit)="onSubmit(animeForm)">
  <div *ngIf="success == true" class="alert alert-success">
    <span>Anime berhasil ditambahkan</span>
  </div>

  <div
    *ngIf="success == false && !animeForm.valid && animeForm.touched"
    class="alert alert-danger"
  >
    <span>Form tidak valid</span>
    <ul>
      <li *ngIf="animeForm.controls['title'].hasError('required')">
        Title harus diisi
      </li>
      <li *ngIf="animeForm.controls['rate'].hasError('required')">
        Rate harus diisi
      </li>
    </ul>
  </div>

  <fieldset class="border p-4">
    <legend>Anime Form</legend>
    <div class="form-group row">
      <label for="title" class="col-form-label col-md-12">Anime title</label>
      <div class="col-md-12">
        <input
          type="text"
          class="form-control"
          placeholder="Anime title that you recently watched"
          [formControl]="animeForm.controls['title']"
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="rate" class="col-form-label col-md-12">Rate</label>
      <div class="col-md-12">
        <select
          id="rate"
          class="form-control"
          [formControl]="animeForm.controls['rate']"
        >
          <option value="">Rate your anime</option>
          <option *ngFor="let rate of rates" [value]="rate">{{ rate }}</option>
        </select>
      </div>
    </div>
  </fieldset>
  <div class="form-group row">
    <div class="col-md-12 my-4">
      <button type="submit" class="btn btn-primary btn-block">Submit</button>
    </div>
  </div>
</form>

<app-animes [animes]="animes"></app-animes>
